<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>date</title>
</head>
<body>
  <script>
    function compare(t1, t2) {
      var hour, point;
      var num1 = Date.parse(new Date(t1));
      var num2 = Date.parse(new Date(t2));
      if(!num1 || !num2) {
        return 0;
      }
      var reg = /^([1][7-9][0-9][0-9]|[2][0][0-9][0-9])(\-)([0][1-9]|[1][0-2])(\-)([0-2][1-9]|[3][0-1])()([0-1][0-9]|[2][0-3])(:)([0-5][0-9])(:)([0-5][0-9])$/g; 
      if(!(reg.test(t1)) || !(reg.test(t2))) {
        return 0;
      }

      var diff = num1 > num2 ? num1 - num2 : num2 - num1;

      diff /= 60000;
      hour = Math.floor(diff / 60);
      point = diff % 60;
      if(point > 29) {
          hour += 0.5;
      }
      
      return hour;    
    }
    console.log(compare("1000-06-22 15:00","2018-06-22 15:30"));
    function compare(str, str1) {
      var strObj1 = {};
      var strObj2 = {};
      var res = [];
      // 遍历str，统计字符
      for(var i = 0, len = str.length; i < len; i++) {
        if(strObj1[str[i]]) {
          strObj1[str[i]] += 1;
        } else {
          strObj1[str[i]] = 1;
        }
      }
    //   // 遍历str1，统计字符
    //   for(var j = 0, len1 = str1.length; j < len1; j++) {
    //       if(strObj2[str1[j]]) {
    //         strObj2[str1[j]] += 1;
    //       } else {
    //         strObj2[str1[j]] = 1;
    //       }
    //   }
    //   // 遍历str，添加答案
    //   for(var i = 0, len = str.length; i < len; i++) {
    //       if(strObj1[str[i]] == 1 && !strObj2[str[i]]) {
    //           res.push(str[i]);
    //       }
    //   }
    //   // 遍历str1，添加答案
    //   for(var j = 0, len = str1.length; j < len; j++) {
    //       if(strObj2[str1[j]] == 1 && !strObj1[str1[j]]) {
    //           res.push(str1[j]);
    //       }
    //   }
    //   var temp = res.sort().join('');
    //   var reverseRes = res.reverse().join('');
    //   console.log(temp + reverseRes);
    //   return (temp + reverseRes);
    // }
    // window.onload = function() {
    //   compare("aabbcc","ccdd");
    // }
  </script>
</body>
</html>